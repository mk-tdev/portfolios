(function(e){function t(t){for(var c,r,i=t[0],s=t[1],u=t[2],l=0,d=[];l<i.length;l++)r=i[l],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(c in s)Object.prototype.hasOwnProperty.call(s,c)&&(e[c]=s[c]);h&&h(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],c=!0,r=1;r<n.length;r++){var i=n[r];0!==a[i]&&(c=!1)}c&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var c={},r={app:0},a={app:0},o=[];function i(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-0b98ba38":"a76ff6a6","chunk-2d8b1091":"4d577808","chunk-55daee4d":"4e8d823d","chunk-67f09d36":"eaf97cc7","chunk-f3cd68ce":"96c8f919"}[e]+".js"}function s(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-0b98ba38":1,"chunk-2d8b1091":1,"chunk-55daee4d":1,"chunk-67f09d36":1,"chunk-f3cd68ce":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var c="css/"+({}[e]||e)+"."+{"chunk-0b98ba38":"530e0058","chunk-2d8b1091":"c3e75d9c","chunk-55daee4d":"f87bf277","chunk-67f09d36":"5872932a","chunk-f3cd68ce":"c09c46e0"}[e]+".css",a=s.p+c,o=document.getElementsByTagName("link"),i=0;i<o.length;i++){var u=o[i],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===c||l===a))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){u=d[i],l=u.getAttribute("data-href");if(l===c||l===a)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var c=t&&t.target&&t.target.src||a,o=new Error("Loading CSS chunk "+e+" failed.\n("+c+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=c,delete r[e],h.parentNode.removeChild(h),n(o)},h.href=a;var b=document.getElementsByTagName("head")[0];b.appendChild(h)})).then((function(){r[e]=0})));var c=a[e];if(0!==c)if(c)t.push(c[2]);else{var o=new Promise((function(t,n){c=a[e]=[t,n]}));t.push(c[2]=o);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=i(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(h);var n=a[e];if(0!==n){if(n){var c=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+c+": "+r+")",d.name="ChunkLoadError",d.type=c,d.request=r,n[1](d)}a[e]=void 0}};var h=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=c,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)s.d(n,c,function(t){return e[t]}.bind(null,c));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/portfolios/vue/find-a-coach/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var h=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"00a3":function(e,t,n){},"11c9":function(e,t,n){"use strict";n("583c")},"131b":function(e,t,n){"use strict";n("905d")},"1b34":function(e,t,n){"use strict";n("ab70")},"22be":function(e,t,n){"use strict";n("f513")},"262d":function(e,t,n){},4291:function(e,t,n){"use strict";n("f68d")},"42d5":function(e,t,n){},4812:function(e,t,n){"use strict";n("42d5")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("d3b7"),n("3ca3"),n("ddb0");var c=n("7a23"),r={class:"main"};function a(e,t,n,a,o,i){var s=Object(c["D"])("the-header"),u=Object(c["D"])("router-view");return Object(c["v"])(),Object(c["h"])(c["a"],null,[Object(c["k"])(s),Object(c["i"])("div",r,[Object(c["k"])(u,null,{default:Object(c["K"])((function(e){return[Object(c["k"])(c["c"],{name:"route",mode:"out-in"},{default:Object(c["K"])((function(){return[(Object(c["v"])(),Object(c["f"])(Object(c["E"])(e.Component)))]})),_:2},1024)]})),_:1})])],64)}n("ac1f"),n("5319");var o=n("cf05"),i=n.n(o);Object(c["y"])("data-v-e8636a5a");var s=Object(c["i"])("div",null,[Object(c["i"])("img",{src:i.a,height:"25"}),Object(c["i"])("span",{class:"app-title"},"Find a Coach")],-1),u=Object(c["j"])("All Coaches"),l=Object(c["j"])("Requests "),d=Object(c["j"])("Login "),h=Object(c["j"])("Logout");function b(e,t,n,r,a,o){var i=Object(c["D"])("router-link"),b=Object(c["D"])("base-button");return Object(c["v"])(),Object(c["h"])("header",null,[s,Object(c["i"])("div",null,[Object(c["k"])(i,{to:"/coaches"},{default:Object(c["K"])((function(){return[u]})),_:1}),o.isAuthenticated?(Object(c["v"])(),Object(c["f"])(i,{key:0,to:"/requests"},{default:Object(c["K"])((function(){return[l]})),_:1})):Object(c["g"])("",!0),o.isAuthenticated?Object(c["g"])("",!0):(Object(c["v"])(),Object(c["f"])(i,{key:1,to:"/auth"},{default:Object(c["K"])((function(){return[d]})),_:1})),o.isAuthenticated?(Object(c["v"])(),Object(c["f"])(b,{key:2,onClick:o.logout},{default:Object(c["K"])((function(){return[h]})),_:1},8,["onClick"])):Object(c["g"])("",!0)])])}Object(c["w"])();var f={methods:{logout:function(){this.$store.dispatch("logout"),this.$router.replace("/coaches")}},computed:{isAuthenticated:function(){return this.$store.getters.isAuthenticated}}};n("e866");f.render=b,f.__scopeId="data-v-e8636a5a";var m=f,p={name:"App",components:{TheHeader:m},watch:{didAutoLogout:function(e,t){console.log({currValue:e,oldValue:t}),e&&e!==t&&this.$router.replace("/coaches")}},computed:{didAutoLogout:function(){return this.$store.getters.didAutoLogout}},created:function(){this.$store.dispatch("autoLogin")}};n("131b");p.render=a;var j=p,g=n("6c02");Object(c["y"])("data-v-2baacaac");var O={class:"controls"},v=Object(c["j"])("Click to Refresh"),k={key:0,class:"loader"},w={key:1},C={key:2};function y(e,t,n,r,a,o){var i=Object(c["D"])("base-dialog"),s=Object(c["D"])("coach-filter"),u=Object(c["D"])("base-button"),l=Object(c["D"])("base-link"),d=Object(c["D"])("base-spinner"),h=Object(c["D"])("CoachItem");return Object(c["v"])(),Object(c["h"])("div",null,[Object(c["k"])(i,{show:!!a.isError,title:"An error occured!",onClose:o.handleError},{default:Object(c["K"])((function(){return[Object(c["j"])(Object(c["G"])(a.isError),1)]})),_:1},8,["show","onClose"]),Object(c["i"])("section",null,[Object(c["k"])(s,{onChangeFilter:o.setFilter},null,8,["onChangeFilter"])]),Object(c["i"])("section",null,[Object(c["i"])("div",O,[Object(c["k"])(u,{mode:"dark",onClick:t[0]||(t[0]=function(e){return o.loadCoaches(!0)})},{default:Object(c["K"])((function(){return[v]})),_:1}),o.isCoach||a.isLoading||!o.isAuthenticated?Object(c["g"])("",!0):(Object(c["v"])(),Object(c["f"])(l,{key:0,to:"/register",label:"Register as Coach",mode:"dark"})),o.isAuthenticated?Object(c["g"])("",!0):(Object(c["v"])(),Object(c["f"])(l,{key:1,to:"/auth?redirect=register",label:"Login to Register as Coach",mode:"dark"}))]),a.isLoading?(Object(c["v"])(),Object(c["h"])("div",k,[Object(c["k"])(d)])):o.hasCoaches?(Object(c["v"])(),Object(c["h"])("div",w,[(Object(c["v"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(o.filteredCoaches,(function(e,t){return Object(c["v"])(),Object(c["f"])(h,{key:t,id:e.id,firstName:e.firstName,lastName:e.lastName,rate:e.hourlyRate,areas:e.areas},null,8,["id","firstName","lastName","rate","areas"])})),128))])):(Object(c["v"])(),Object(c["h"])("h3",C,"No Coaches found."))])])}Object(c["w"])();var x=n("1da1");n("4de4"),n("caad"),n("2532"),n("96cf");Object(c["y"])("data-v-35b49042");var I={class:"coach-item"},S={class:"areas"},_={class:"actions"};function F(e,t,n,r,a,o){var i=Object(c["D"])("base-badge"),s=Object(c["D"])("base-link"),u=Object(c["D"])("base-container");return Object(c["v"])(),Object(c["f"])(u,{mode:"left"},{default:Object(c["K"])((function(){return[Object(c["i"])("div",I,[Object(c["i"])("h2",null,Object(c["G"])(o.fullName),1),Object(c["i"])("div",null,"$"+Object(c["G"])(n.rate)+"/hour",1),Object(c["i"])("div",S,[(Object(c["v"])(!0),Object(c["h"])(c["a"],null,Object(c["B"])(n.areas,(function(e,t){return Object(c["v"])(),Object(c["f"])(i,{key:t,label:e,type:e},null,8,["label","type"])})),128))]),Object(c["i"])("div",_,[Object(c["k"])(s,{to:o.coachContactLink,label:"Contact",mode:"dark"},null,8,["to"]),Object(c["k"])(s,{to:o.coachDetailsLink,label:"View Details",mode:"dark"},null,8,["to"])])])]})),_:1})}Object(c["w"])();n("99af");var A={props:["id","firstName","lastName","rate","areas"],computed:{fullName:function(){return"".concat(this.firstName," ").concat(this.lastName)},coachContactLink:function(){return"".concat(this.$route.path,"/").concat(this.id,"/contact")},coachDetailsLink:function(){return"".concat(this.$route.path,"/").concat(this.id)}}};n("651c");A.render=F,A.__scopeId="data-v-35b49042";var L=A;Object(c["y"])("data-v-c61c9d50");var N=Object(c["i"])("h2",null,"Find your Coach",-1),D={class:"filters"};function R(e,t,n,r,a,o){var i=Object(c["D"])("base-checkbox"),s=Object(c["D"])("base-container");return Object(c["v"])(),Object(c["f"])(s,{mode:"lite"},{default:Object(c["K"])((function(){return[N,Object(c["i"])("div",D,[Object(c["k"])(i,{onCheckChange:o.checkFilter,checkState:a.filters.swimming,id:"swimming",labelTxt:"Swimming"},null,8,["onCheckChange","checkState"]),Object(c["k"])(i,{onCheckChange:o.checkFilter,checkState:a.filters.running,id:"running",labelTxt:"Running"},null,8,["onCheckChange","checkState"]),Object(c["k"])(i,{onCheckChange:o.checkFilter,checkState:a.filters.football,id:"football",labelTxt:"Football"},null,8,["onCheckChange","checkState"]),Object(c["k"])(i,{onCheckChange:o.checkFilter,checkState:a.filters.dance,id:"dance",labelTxt:"Dance"},null,8,["onCheckChange","checkState"]),Object(c["k"])(i,{onCheckChange:o.checkFilter,checkState:a.filters.acting,id:"acting",labelTxt:"Acting"},null,8,["onCheckChange","checkState"]),Object(c["k"])(i,{onCheckChange:o.checkFilter,checkState:a.filters.wrestling,id:"wrestling",labelTxt:"Wrestling"},null,8,["onCheckChange","checkState"])])]})),_:1})}Object(c["w"])();var q=n("ade3"),T=n("5530"),E={data:function(){return{filters:{swimming:!0,running:!0,football:!0,dance:!0,acting:!0,wrestling:!0}}},emits:["change-filter"],methods:{checkFilter:function(e){var t=e.target.id,n=e.target.checked,c=Object(T["a"])(Object(T["a"])({},this.filters),{},Object(q["a"])({},t,n));this.filters=c,this.$emit("change-filter",c)}}};n("4291");E.render=R,E.__scopeId="data-v-c61c9d50";var $=E,K={components:{CoachItem:L,CoachFilter:$},data:function(){return{isLoading:!1,isError:null,activeFilters:{swimming:!0,running:!0,football:!0,dance:!0,acting:!0,wrestling:!0}}},created:function(){this.loadCoaches()},methods:{setFilter:function(e){this.activeFilters=e},loadCoaches:function(){var e=arguments,t=this;return Object(x["a"])(regeneratorRuntime.mark((function n(){var c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return c=e.length>0&&void 0!==e[0]&&e[0],t.isLoading=!0,n.prev=2,n.next=5,t.$store.dispatch("coaches/loadCoaches",{forceRefresh:c});case 5:n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](2),t.isError=n.t0.message||"Something went wrong!";case 10:t.isLoading=!1;case 11:case"end":return n.stop()}}),n,null,[[2,7]])})))()},handleError:function(){this.isError=!1}},computed:{isAuthenticated:function(){return this.$store.getters.isAuthenticated},isCoach:function(){return this.$store.getters["coaches/isCoach"]},filteredCoaches:function(){var e=this,t=this.$store.getters["coaches/coaches"];return t.filter((function(t){return!(!e.activeFilters.swimming||!t.areas.includes("swimming"))||(!(!e.activeFilters.running||!t.areas.includes("running"))||(!(!e.activeFilters.football||!t.areas.includes("football"))||(!(!e.activeFilters.dance||!t.areas.includes("dance"))||(!(!e.activeFilters.acting||!t.areas.includes("acting"))||!(!e.activeFilters.wrestling||!t.areas.includes("wrestling"))))))}))},hasCoaches:function(){return!this.isLoading&&this.$store.getters["coaches/hasCoaches"]}}};n("4812");K.render=y,K.__scopeId="data-v-2baacaac";var P=K;Object(c["y"])("data-v-5024ab5a");var U={class:"form-control"},G=Object(c["i"])("label",{for:"email"},"Email",-1),M={class:"form-control"},V=Object(c["i"])("label",{for:"password"}," Password",-1),J={key:0},B={key:1,class:"loader"};function H(e,t,n,r,a,o){var i=Object(c["D"])("base-dialog"),s=Object(c["D"])("base-spinner"),u=Object(c["D"])("base-button"),l=Object(c["D"])("base-container");return Object(c["v"])(),Object(c["h"])("div",null,[Object(c["k"])(i,{show:!!a.isError,title:"An error occured!",onClose:o.handleError},{default:Object(c["K"])((function(){return[Object(c["j"])(Object(c["G"])(a.isError),1)]})),_:1},8,["show","onClose"]),Object(c["k"])(l,null,{default:Object(c["K"])((function(){return[Object(c["i"])("form",{onSubmit:t[2]||(t[2]=Object(c["M"])((function(){return o.submitForm&&o.submitForm.apply(o,arguments)}),["prevent"]))},[Object(c["i"])("div",U,[G,Object(c["L"])(Object(c["i"])("input",{type:"email",name:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.email=e})},null,512),[[c["I"],a.email,void 0,{trim:!0}]])]),Object(c["i"])("div",M,[V,Object(c["L"])(Object(c["i"])("input",{type:"password",name:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.password=e})},null,512),[[c["I"],a.password,void 0,{trim:!0}]])]),a.isFormValid?Object(c["g"])("",!0):(Object(c["v"])(),Object(c["h"])("p",J,"Invalid data!")),a.isLoading?(Object(c["v"])(),Object(c["h"])("div",B,[Object(c["k"])(s)])):Object(c["g"])("",!0),Object(c["k"])(u,{mode:"dark"},{default:Object(c["K"])((function(){return[Object(c["j"])(Object(c["G"])(o.submitCaption),1)]})),_:1}),Object(c["k"])(u,{type:"button",mode:"dark",onClick:o.switchAuthMode},{default:Object(c["K"])((function(){return[Object(c["j"])(Object(c["G"])(o.switchCaption),1)]})),_:1},8,["onClick"])],32)]})),_:1})])}Object(c["w"])();var z={computed:{submitCaption:function(){return"login"===this.mode?"Login":"Signup"},switchCaption:function(){return"login"===this.mode?"Signup Instead":"Login Instead"}},methods:{handleError:function(){this.isError=!1},submitForm:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){var n,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isLoading=!0,e.isFormValid=!0,""!==e.email&&e.email.includes("@")&&!(e.password.length<7)){t.next=5;break}return e.isFormValid=!1,t.abrupt("return");case 5:if(n={email:e.email,password:e.password},e.isFormValid){t.next=8;break}return t.abrupt("return");case 8:return t.prev=8,t.next=11,e.$store.dispatch(e.mode,n);case 11:c="/"+(e.$route.query.redirect||"coaches"),e.$router.replace(c),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](8),e.isError=t.t0.message||"Something went wrong!";case 18:e.isLoading=!1;case 19:case"end":return t.stop()}}),t,null,[[8,15]])})))()},switchAuthMode:function(){this.mode="login"===this.mode?"signup":"login"}},data:function(){return{email:"",password:"",isFormValid:!0,mode:"login",isError:null,isLoading:!1}}};n("9497");z.render=H,z.__scopeId="data-v-5024ab5a";var Q=z,W=Object(c["i"])("h3",null,"Not Found!",-1),X=Object(c["j"])(" Maybe this is what you are looking for ? "),Y=Object(c["j"])("Find me a Coach");function Z(e,t){var n=Object(c["D"])("router-link"),r=Object(c["D"])("base-container");return Object(c["v"])(),Object(c["h"])("section",null,[Object(c["k"])(r,null,{default:Object(c["K"])((function(){return[W,Object(c["i"])("p",null,[X,Object(c["k"])(n,{to:"/coaches"},{default:Object(c["K"])((function(){return[Y]})),_:1})])]})),_:1})])}const ee={};ee.render=Z;var te=ee,ne=n("5502"),ce={registerCoach:function(e,t){e.coaches.push(t)},setCoaches:function(e,t){e.coaches=t},setFetchTimestamp:function(e){e.lastFetch=(new Date).getTime()}},re=(n("a4d3"),n("e01a"),{apiUrl:"https://vue-http-feedback-default-rtdb.firebaseio.com",signup:"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyC5jtCH8HlNm3mQ8MrS1v9i78PemNDNl18",login:"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyC5jtCH8HlNm3mQ8MrS1v9i78PemNDNl18"}),ae=re.apiUrl,oe={loadCoaches:function(e,t){return Object(x["a"])(regeneratorRuntime.mark((function n(){var c,r,a,o,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.forceRefresh||e.getters.shouldUpdate){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,fetch("".concat(ae,"/coaches.json"));case 4:return c=n.sent,n.next=7,c.json();case 7:if(r=n.sent,c.ok){n.next=11;break}throw a=new Error(r.message||"Failed to fetch!"),a;case 11:for(i in o=[],r)s={id:i,firstName:r[i].firstName,lastName:r[i].lastName,areas:r[i].areas,description:r[i].description,hourlyRate:r[i].hourlyRate},o.push(s);e.commit("setCoaches",o),e.commit("setFetchTimestamp");case 15:case"end":return n.stop()}}),n)})))()},registerCoach:function(e,t){return Object(x["a"])(regeneratorRuntime.mark((function n(){var c,r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return c=e.rootGetters.userId,r=e.rootGetters.token,a={firstName:t.first,lastName:t.last,areas:t.areas,description:t.description,hourlyRate:t.rate},n.next=5,fetch("".concat(ae,"/coaches/").concat(c,".json?auth=").concat(r),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 5:o=n.sent,o.ok,e.commit("registerCoach",Object(T["a"])(Object(T["a"])({},a),{},{id:c}));case 8:case"end":return n.stop()}}),n)})))()}},ie={coaches:function(e){return e.coaches},hasCoaches:function(e){return e.coaches&&e.coaches.length>0},isCoach:function(e,t,n,c){var r=t.coaches,a=c.userId;return r.some((function(e){return e.id===a}))},shouldUpdate:function(e){var t=e.lastFetch;if(!t)return!0;var n=(new Date).getTime();return(n-t)/1e3>60}},se={namespaced:!0,state:function(){return{lastFetch:null,coaches:[{id:"c1",firstName:"John",lastName:"Doe",areas:["swimming","running","football","dance"],description:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Aliquam totam vel adipisci iste a et quod, soluta assumenda ipsam necessitatibus.",hourlyRate:30},{id:"c2",firstName:"Karen",lastName:"Gillan",areas:["swimming","running","dance"],description:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Aliquam, quae pariatur eos corporis quos earum sapiente hic cupiditate tenetur, sunt quibusdam sequi, ad incidunt non?",hourlyRate:70},{id:"c3",firstName:"Emily",lastName:"Blunt",areas:["swimming","running"],description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Similique, tempore. Obcaecati rerum esse perferendis nisi sed inventore, minus ex cum enim laboriosam, labore at repellat, architecto quaerat aliquam velit fugit?",hourlyRate:40},{id:"c4",firstName:"Dwayne",lastName:"Johnson",areas:["acting","dance","wrestling"],description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Officia illum, necessitatibus hic sit neque veritatis.",hourlyRate:20}]}},mutations:ce,actions:oe,getters:ie},ue={addRequest:function(e,t){e.requests.push(t)},setRequests:function(e,t){e.requests=t}},le=(n("b0c0"),re.apiUrl),de={loadRequests:function(e){return Object(x["a"])(regeneratorRuntime.mark((function t(){var n,c,r,a,o,i,s,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("context.rootGetters: ",e.rootGetters),n=e.rootGetters.userId,c=e.rootGetters.token,t.next=5,fetch("".concat(le,"/requests/").concat(n,".json?auth=").concat(c));case 5:return r=t.sent,t.next=8,r.json();case 8:if(a=t.sent,r.ok){t.next=12;break}throw o=new Error(a.message||"Failed to fetch requests!"),o;case 12:for(s in i=[],a)u={id:s,coachId:n,userEmail:a[s].userEmail,message:a[s].message},i.push(u);e.commit("setRequests",i);case 15:case"end":return t.stop()}}),t)})))()},contactCoach:function(e,t){return Object(x["a"])(regeneratorRuntime.mark((function n(){var c,r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return c={userEmail:t.email,message:t.message},n.next=3,fetch("".concat(le,"/requests/").concat(t.coachId,".json"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 3:return r=n.sent,n.next=6,r.json();case 6:if(a=n.sent,r.ok){n.next=10;break}throw o=new Error(a.message||"Failed to send request!"),o;case 10:c.id=a.name,c.coachId=t.coachId,e.commit("addRequest",c);case 13:case"end":return n.stop()}}),n)})))()}},he={requests:function(e,t,n,c){var r=c.userId;return e.requests.filter((function(e){return e.coachId===r}))},hasRequests:function(e,t){return t.requests&&t.requests.length>0}},be={namespaced:!0,state:function(){return{requests:[]}},mutations:ue,actions:de,getters:he},fe={setUser:function(e,t){e.token=t.token,e.userId=t.userId,e.didAutoLogout=!1},setAudoLogout:function(e){e.didAutoLogout=!0}},me=re.signup,pe=re.login,je=null,ge={login:function(e,t){return Object(x["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.dispatch("auth",Object(T["a"])(Object(T["a"])({},t),{},{mode:"login"}));case 1:case"end":return n.stop()}}),n)})))()},signup:function(e,t){return Object(x["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.dispatch("auth",Object(T["a"])(Object(T["a"])({},t),{},{mode:"signup"}));case 1:case"end":return n.stop()}}),n)})))()},auth:function(e,t){return Object(x["a"])(regeneratorRuntime.mark((function n(){var c,r,a,o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat("login"===t.mode?pe:me),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({returnSecureToken:!0,email:t.email,password:t.password})});case 2:return c=n.sent,n.next=5,c.json();case 5:if(r=n.sent,c.ok){n.next=9;break}throw a=new Error(r.message||"Failed to Signup!"),a;case 9:o=1e3*+r.expiresIn,i=(new Date).getTime()+o,localStorage.setItem("token",r.idToken),localStorage.setItem("userId",r.localId),localStorage.setItem("expirationDate",i),je=setTimeout((function(){return e.dispatch("autoLogout")}),o),e.commit("setUser",{token:r.idToken,userId:r.localId});case 16:case"end":return n.stop()}}),n)})))()},autoLogin:function(e){var t=localStorage.getItem("token"),n=localStorage.getItem("userId"),c=localStorage.getItem("expirationDate"),r=+c-(new Date).getTime();r<0||(je=setTimeout((function(){return e.dispatch("autoLogout")}),r),t&&n&&e.commit("setUser",{token:t,userId:n}))},logout:function(e){localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("expirationDate"),clearTimeout(je),e.commit("setUser",{token:null,userId:null})},autoLogout:function(e){e.dispatch("logout"),e.commit("setAudoLogout")}},Oe={userId:function(e){return e.userId},token:function(e){return e.token},isAuthenticated:function(e){return!!e.token},didAutoLogout:function(e){return e.didAutoLogout}},ve={state:function(){return{token:null,userId:null,didAutoLogout:!1}},mutations:fe,actions:ge,getters:Oe},ke=Object(ne["a"])({modules:{coaches:se,requests:be,auth:ve}}),we=ke,Ce=function(){return n.e("chunk-f3cd68ce").then(n.bind(null,"a013"))},ye=function(){return n.e("chunk-2d8b1091").then(n.bind(null,"c382"))},xe=function(){return n.e("chunk-67f09d36").then(n.bind(null,"049b"))},Ie=function(){return n.e("chunk-55daee4d").then(n.bind(null,"416f"))},Se=[{path:"/",redirect:"/coaches"},{name:"coaches",path:"/coaches",meta:{needsAuth:!1},component:P},{name:"coaches-details",path:"/coaches/:id",component:Ce,props:!0,children:[{name:"contact",path:"contact",component:xe,props:!0}]},{name:"register",path:"/register",meta:{needsAuth:!0},component:ye},{name:"requests",path:"/requests",meta:{needsAuth:!0},component:Ie},{name:"auth",path:"/auth",meta:{needsUnAuth:!0},component:Q},{path:"/:notFound(.*)",component:te}],_e=Object(g["a"])({history:Object(g["b"])(),routes:Se,linkActiveClass:"active"});_e.beforeEach((function(e,t,n){e.meta.needsAuth&&!we.getters.isAuthenticated?n("/auth"):e.meta.needsUnAuth&&we.getters.isAuthenticated?n("/coaches"):n()}));var Fe=_e;function Ae(e,t,n,r,a,o){return Object(c["v"])(),Object(c["h"])("div",{class:Object(c["r"])(["container",n.mode])},[Object(c["C"])(e.$slots,"default",{},void 0,!0)],2)}var Le={props:["mode"]};n("7f92");Le.render=Ae,Le.__scopeId="data-v-690ca685";var Ne=Le;function De(e,t,n,r,a,o){return Object(c["v"])(),Object(c["h"])("button",{class:Object(c["r"])(n.mode)},[Object(c["C"])(e.$slots,"default",{},void 0,!0)],2)}var Re={props:["mode"]};n("1b34");Re.render=De,Re.__scopeId="data-v-e460be2c";var qe=Re;Object(c["y"])("data-v-6f89cff0");var Te={class:"container-checkbox"},Ee=["id","checked"],$e=Object(c["i"])("span",{class:"checkmark"},null,-1);function Ke(e,t,n,r,a,o){return Object(c["v"])(),Object(c["h"])("label",Te,[Object(c["j"])(Object(c["G"])(n.labelTxt)+" ",1),Object(c["i"])("input",{type:"checkbox",id:n.id,checked:n.checkState,onChange:t[0]||(t[0]=function(){return o.checkFilter&&o.checkFilter.apply(o,arguments)})},null,40,Ee),$e])}Object(c["w"])();var Pe={props:["id","labelTxt","checkState"],emits:["check-change"],methods:{checkFilter:function(e){this.$emit("check-change",e)}}};n("8434");Pe.render=Ke,Pe.__scopeId="data-v-6f89cff0";var Ue=Pe;function Ge(e,t,n,r,a,o){var i=Object(c["D"])("router-link");return Object(c["v"])(),Object(c["f"])(i,{to:n.to,class:Object(c["r"])(n.mode)},{default:Object(c["K"])((function(){return[Object(c["j"])(Object(c["G"])(n.label),1)]})),_:1},8,["to","class"])}var Me={props:["to","label","mode"]};n("c569");Me.render=Ge,Me.__scopeId="data-v-fe972a54";var Ve=Me;function Je(e,t,n,r,a,o){return Object(c["v"])(),Object(c["h"])("span",{class:Object(c["r"])(["badge",n.type])},Object(c["G"])(o.labelTxt),3)}var Be={props:["type","label"],computed:{labelTxt:function(){return(this.label+"").toUpperCase()}}};n("11c9");Be.render=Je,Be.__scopeId="data-v-4366b948";var He=Be;Object(c["y"])("data-v-0bdbdb26");var ze={class:"lds-grid"},Qe=Object(c["i"])("div",null,null,-1),We=Object(c["i"])("div",null,null,-1),Xe=Object(c["i"])("div",null,null,-1),Ye=Object(c["i"])("div",null,null,-1),Ze=Object(c["i"])("div",null,null,-1),et=Object(c["i"])("div",null,null,-1),tt=Object(c["i"])("div",null,null,-1),nt=Object(c["i"])("div",null,null,-1),ct=Object(c["i"])("div",null,null,-1),rt=[Qe,We,Xe,Ye,Ze,et,tt,nt,ct];function at(e,t){return Object(c["v"])(),Object(c["h"])("div",ze,rt)}Object(c["w"])();n("22be");const ot={};ot.render=at,ot.__scopeId="data-v-0bdbdb26";var it=ot,st=Object(c["l"])((function(){return n.e("chunk-0b98ba38").then(n.bind(null,"ee98"))})),ut=Object(c["e"])(j);ut.component("base-button",qe),ut.component("base-badge",He),ut.component("base-container",Ne),ut.component("base-checkbox",Ue),ut.component("base-spinner",it),ut.component("base-dialog",st),ut.component("base-link",Ve),ut.use(Fe),ut.use(we),ut.mount("#app")},"583c":function(e,t,n){},"651c":function(e,t,n){"use strict";n("b550")},"7df7":function(e,t,n){},"7f92":function(e,t,n){"use strict";n("dc31")},8434:function(e,t,n){"use strict";n("262d")},"905d":function(e,t,n){},9497:function(e,t,n){"use strict";n("7df7")},ab70:function(e,t,n){},b550:function(e,t,n){},c569:function(e,t,n){"use strict";n("00a3")},cf05:function(e,t,n){e.exports=n.p+"img/logo.82b9c7a5.png"},dc31:function(e,t,n){},e866:function(e,t,n){"use strict";n("fe65")},f513:function(e,t,n){},f68d:function(e,t,n){},fe65:function(e,t,n){}});
//# sourceMappingURL=app.4e229aef.js.map